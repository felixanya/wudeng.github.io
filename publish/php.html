<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf8">
<link rel="stylesheet" type="text/css" href="./assets/css/bootstrap.css">
<link rel="stylesheet" type="text/css" href="./assets/css/github-markdown.css">
<link rel="stylesheet" type="text/css" href="./assets/css/main.css">
<script src="https://use.fontawesome.com/74835083f1.js"></script>
<title>Deng的梦呓</title>
</head>

<body>
<div class="container">
    <div class="main">
        <div class="banner">
            <h1 class="banner-header">Deng的梦呓</h1>
            <div class="banner-description">
                Erlang | 开发 | 感悟 | 生活
            </div>
            <div class="banner-icon btn-group">
                <a class="btn btn-default" href="https://wudeng.github.io">
                    <i class="fa fa-home fa-2x" aria-hidden="true"></i>
                </a>
                <a class="btn btn-default" href="https://github.com/wudeng">
                    <i class="fa fa-github fa-2x" aria-hidden="true"></i>
                </a>
                <a class="btn btn-default" href="./assets/rss.xml">
                    <i class="fa fa-rss fa-2x" aria-hidden="true"></i>
                </a>
                <a class="btn btn-default" href="mailto:wudeng256@gmail.com">
                    <i class="fa fa-envelope-o fa-2x" aria-hidden="true"></i>
                </a>
            </div>
        </div>

        <!-- auto complete by template replacement -->
        <div class="main-content markdown-body"><h1>php</h1><ul>
<li><a href="#重要版本">重要版本</a></li>
<li><a href="#集成包">集成包</a></li>
<li><a href="#命令行模式">命令行模式</a></li>
<li><a href="#交互模式">交互模式</a></li>
<li><a href="#内置服务器">内置服务器</a></li>
<li><a href="#mysql-improved-extension">MySql Improved Extension</a></li>
<li><a href="#composer">composer</a></li>
<li><a href="#面向对象solid原则">面向对象SOLID原则</a></li>
<li><a href="#web框架">web框架</a></li>
<li><a href="#参考文档">参考文档</a></li>
</ul>
<h2><a name="重要版本" class="anchor" href="#重要版本"><span class="header-link"></span></a>重要版本</h2><ul>
<li>5.0 (2004) 面向对象模型</li>
<li>5.3 (2009) 匿名函数，命名空间</li>
<li>5.4 (2012) traits
php 5.x的下一个版本是7，版本6被跳过了。<a href="https://wiki.php.net/rfc/php6">https://wiki.php.net/rfc/php6</a></li>
</ul>
<h2><a name="集成包" class="anchor" href="#集成包"><span class="header-link"></span></a>集成包</h2><ul>
<li>MAMP：支持windows和mac os x</li>
<li>XAMPP: 支持windows，mac os x以及linux</li>
</ul>
<h2><a name="命令行模式" class="anchor" href="#命令行模式"><span class="header-link"></span></a>命令行模式</h2><p>查看php信息，<code>php -i</code>，创建hello.php脚本，</p>
<pre><code>&lt;?php
<span class="hljs-keyword">if</span>(<span class="hljs-variable">$argc</span> != <span class="hljs-number">2</span>) {
    echo <span class="hljs-string">"Usage: php hello.php [name].\n"</span>;
    <span class="hljs-keyword">exit</span>(<span class="hljs-number">1</span>);
}
<span class="hljs-variable">$name</span> = <span class="hljs-variable">$argv</span>[<span class="hljs-number">1</span>];
echo <span class="hljs-string">"Hello, $name\n"</span>;
</code></pre><p>在命令行执行：</p>
<pre><code>&gt; php hello<span class="hljs-selector-class">.php</span>
Usage: php hello<span class="hljs-selector-class">.php</span> [name]
&gt; php hello<span class="hljs-selector-class">.php</span> world
Hello, world
</code></pre><h2><a name="交互模式" class="anchor" href="#交互模式"><span class="header-link"></span></a>交互模式</h2><p>php -a</p>
<ul>
<li>Interactive mode enabled 没有交互模式，相当于从stdin读取php文件，需要用tag包起来</li>
<li>Interactive shell 交互模式，类似Erlang或者Python的交互输入，REPL</li>
</ul>
<p>也可以通过php -m 查看是否有readline 如果没有，那就没有交互模式。</p>
<h2><a name="内置服务器" class="anchor" href="#内置服务器"><span class="header-link"></span></a>内置服务器</h2><p>如果php版本大于5.4，可以使用内置的web服务器，根目录为当前目录。记得python 2.x版本也有一个搭建服务器的命令：
<code>python -m SimpleHTTPServer 8000</code>。
python3:
<code>python3 -m http.server 8000</code></p>
<pre><code><span class="hljs-selector-tag">php</span> <span class="hljs-selector-tag">-S</span> <span class="hljs-selector-tag">localhost</span><span class="hljs-selector-pseudo">:8000</span>
</code></pre><h2><a name="mysql-improved-extension" class="anchor" href="#mysql-improved-extension"><span class="header-link"></span></a>MySql Improved Extension</h2><p>mysqli</p>
<p>int error_reporting([int $level])
设置报告错误级别error_reporting。在开发过程中很有必要显示它们。
默认值为 E_ALL &amp; ~E_NOTICE，表示除了E_NOTICE其他都显示。
E_STRICT并不包含在E_ALL中。
在开发过程中设置error_reporting=E_ALL, display_errors=On</p>
<pre><code><span class="hljs-selector-tag">define</span>(<span class="hljs-string">'ENVIRONMENT'</span>, <span class="hljs-string">'development'</span>);
<span class="hljs-selector-tag">if</span> (ENVIRONMENT == <span class="hljs-string">'development'</span> || ENVIRONMENT == <span class="hljs-string">'dev'</span>) {
    <span class="hljs-selector-tag">error_reporting</span>(E_ALL);
    <span class="hljs-selector-tag">ini_set</span>(<span class="hljs-string">"display_errors"</span>, <span class="hljs-number">1</span>);
}
</code></pre><p>合并数组</p>
<ul>
<li>array_merge()</li>
<li>+</li>
</ul>
<p>自动加载类</p>
<pre><code><span class="php"><span class="hljs-meta">&lt;?php</span>
    <span class="hljs-keyword">if</span>(!function_exists(<span class="hljs-string">'classAutoLoader'</span>)){
        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">classAutoLoader</span><span class="hljs-params">($class)</span></span>{
            $class=strtolower($class);
            $classFile=$_SERVER[<span class="hljs-string">'DOCUMENT_ROOT'</span>].<span class="hljs-string">'/include/class/'</span>.$class.<span class="hljs-string">'.class.php'</span>;
            <span class="hljs-keyword">if</span>(is_file($classFile)&amp;&amp;!class_exists($class)) <span class="hljs-keyword">include</span> $classFile;
        }
    }
    spl_autoload_register(<span class="hljs-string">'classAutoLoader'</span>);
<span class="hljs-meta">?&gt;</span></span>
</code></pre><p>或者</p>
<pre><code><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__autoload</span><span class="hljs-params">($classname)</span> </span>{
    $filename = <span class="hljs-string">"./"</span>. $classname .<span class="hljs-string">".php"</span>;
    <span class="hljs-keyword">include_once</span>($filename);
}
</code></pre><p>定义常量：<code>define(string $name, mixed $value [,bool $case_insensitive = false])</code>
检查常量：<code>defined(string $name)</code>
检查变量：<code>isset</code>
检查函数：<code>function_exists()</code></p>
<p>分割字符串
<code>array explode(string $delimiter, string $string [, int $limit])</code></p>
<h2><a name="composer" class="anchor" href="#composer"><span class="header-link"></span></a>composer</h2><p>php包依赖管理工具，配置文件：composer.json
<a href="https://pkg.phpcomposer.com">国内镜像</a>
设置方法，-g表示全局，去掉则表示当前项目：</p>
<pre><code>composer config -g repo<span class="hljs-selector-class">.packagist</span> composer https:<span class="hljs-comment">//packagist.phpcomposer.com</span>
</code></pre><p>常用命令，加上-v|vv|vvv 开启输出：</p>
<ul>
<li>composer selfupdate 更新composer自己</li>
<li>composer install 安装依赖</li>
<li>composer update  更新依赖</li>
</ul>
<p>extract 从数组中将变量导入到当前符号表</p>
<h2><a name="面向对象solid原则" class="anchor" href="#面向对象solid原则"><span class="header-link"></span></a>面向对象SOLID原则</h2><ul>
<li>Single responsiblity principle 单一功能原则</li>
<li>Open/closed principle 开闭原则，对扩展开放，对修改封闭</li>
<li>Liskov substitution principle，里氏替换原则</li>
<li>Interface segregation principle，接口隔离</li>
<li>Dependency inversion principle，依赖反转原则。依赖于抽象而不是一个实例。依赖注入是该原则的一种实现方法。</li>
</ul>
<h2><a name="web框架" class="anchor" href="#web框架"><span class="header-link"></span></a>web框架</h2><p>简单框架，源码非常简单，非常适合上手。
<a href="https://github.com/panique/mini">https://github.com/panique/mini</a>
<a href="https://github.com/panique/mini2">https://github.com/panique/mini2</a>
<a href="https://github.com/panique/mini3">https://github.com/panique/mini3</a></p>
<h2><a name="参考文档" class="anchor" href="#参考文档"><span class="header-link"></span></a>参考文档</h2><p><a href="https://laravel-china.github.io"></a>
<a href="http://php.net/manual/en/book.mysqli.php">http://php.net/manual/en/book.mysqli.php</a>
<a href="http://php.net/manual/zh/function.error-reporting.php">http://php.net/manual/zh/function.error-reporting.php</a>
<a href="https://getcomposer.org">https://getcomposer.org</a>
<a href="http://www.php-fig.org/">http://www.php-fig.org/</a>
<a href="http://laravel-china.github.io/php-the-right-way/">PHP The Right Way</a></p>
</div>

    </div>

</div>
</body>
</html>
